{% extends "base.html" %} {% block content %} {% load static %}
<link rel="stylesheet" href="{% static 'css/checkout.css' %}" />
<script src="{% static 'javascript/menu.js' %}" defer></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<div class="checkout-container">
  <div class="checkOutBox">
    <h1 class="title">Your Basket</h1>

    <div class="itemRow headRow">
      <text class="itemName">Item</text>
      <text class="itemPrice">Price</text>
      <text class="itemNumber">Quantity</text>
    </div>

    {% for i in MenuItems %}
    <div class="itemRow">
      <text class="itemName">{{i.0}}</text>
      <text class="itemPrice" id="{{i.0}} {{i.1}}">£ {{i.1}}</text>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        height="24"
        viewBox="0 96 960 960"
        width="24"
        onClick="(alterChecout(' {{i.1}}', '{{i.2}}', '{{i.0}}', -1))"
      >
        <path d="M560 776 360 576l200-200v400Z" />
      </svg>
      <text class="itemNumber" id="{{i.0}}"> {{i.2}} </text>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        height="24"
        viewBox="0 96 960 960"
        width="24"
        onClick="(alterChecout(' {{i.1}}', '{{i.2}}', '{{i.0}}', 1))"
      >
        <path d="M400 776V376l200 200-200 200Z" />
      </svg>
      <a href="{% url 'checkout' %}">
        <button type="button" class="deleteItemButton" onclick="deleteItemFromBasket('{{i.0}}');">
          <i class="fa fa-trash-o icon"></i>
        </button>
      </a>
    </div>
    {% endfor %}

    <div class="itemRow">
      <text class="itemName">Total</text>
      <text class="itemPrice" id="TotalPrice">£ {{total}}</text>
      <text class="itemNumber" id="TotalQuantity">{{items}}</text>
    </div>

    <form action="{% url 'orderComplete' %}" method="POST" id="menuForm">
      {% csrf_token %} {{ form.errors }} {{ form.non_field_errors }}
      <a class="nav-options nav-btn" href="{% url 'orderComplete' %}">
        <button class="submitButton">Checkout</button></a
      >
    </form>
  </div>
</div>
{% for i in statuses %}
<script>
  alert("Your order has been {{i}}");
</script>
{% endfor %}
{% endblock content %}
